<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taller: Aprendizaje Guiado con Gemini | Edición DUA</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Lexend (Legibilidad) & Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Lexend:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Lexend', 'sans-serif'],
                        dyslexic: ['Verdana', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            900: '#0c4a6e',
                        },
                        accent: {
                            50: '#f5f3ff',
                            500: '#8b5cf6',
                            600: '#7c3aed',
                        }
                    },
                    boxShadow: {
                        'premium': '0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.05)',
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Inter', sans-serif; transition: background-color 0.3s, color 0.3s; }
        h1, h2, h3, h4 { font-family: 'Lexend', sans-serif; }
        
        .dyslexic-mode { font-family: 'Verdana', sans-serif !important; letter-spacing: 0.05em; word-spacing: 0.1em; line-height: 1.6 !important; }
        .dyslexic-mode p, .dyslexic-mode li, .dyslexic-mode span { font-size: 1.1em; }

        .fade-in { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        .tab-panel { display: none; }
        .tab-panel.active { display: block; animation: fadeIn 0.4s ease-out; }

        /* Accessibility Focus */
        *:focus-visible { outline: 3px solid #0ea5e9; outline-offset: 2px; }

        /* High Contrast Support */
        .high-contrast { background-color: #000 !important; color: #fff !important; }
        .high-contrast .bg-white { background-color: #111 !important; border-color: #444 !important; }
        .high-contrast .text-slate-600, .high-contrast .text-slate-500 { color: #ddd !important; }
        .high-contrast .bg-slate-50, .high-contrast .bg-slate-100 { background-color: #222 !important; }
        
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 min-h-screen flex flex-col" id="appBody">

    <!-- Navbar with GEG Spain Logo -->
    <nav class="sticky top-0 z-50 bg-white/80 backdrop-blur-lg border-b border-slate-200 shadow-sm" role="navigation">
        <div class="max-w-6xl mx-auto px-4 sm:px-6">
            <div class="flex justify-between h-20 items-center">
                <div class="flex items-center gap-4">
                    <!-- GEG Spain Logo -->
                    <img 
                        src="https://transformacioneducativa.es/wp-content/uploads/2024/09/GEG_Logo-horizontal_color-180x81.png" 
                        alt="Logo GEG Spain" 
                        class="h-10 sm:h-12 w-auto object-contain"
                    >
                    
                    <div class="h-10 w-[1px] bg-slate-200 hidden md:block"></div>
                    
                    <div class="flex items-center gap-3">
                        <div>
                            <h1 class="font-display font-bold text-lg text-slate-900 leading-none">Gemini Inclusivo</h1>
                            <p class="text-[10px] uppercase tracking-wider font-semibold text-brand-600 mt-1">Aprendizaje guiado con IA</p>
                        </div>
                    </div>
                </div>
                
                <div class="flex items-center gap-1 sm:gap-2">
                    <button onclick="toggleDyslexicFont()" class="p-2 text-slate-500 hover:bg-slate-100 rounded-lg transition-all" aria-label="Modo Lectura Fácil" title="Modo Lectura Fácil">
                        <i data-lucide="type" class="w-5 h-5"></i>
                    </button>
                    <button onclick="toggleHighContrast()" class="p-2 text-slate-500 hover:bg-slate-100 rounded-lg transition-all" aria-label="Modo Alto Contraste" title="Alto Contraste">
                        <i data-lucide="contrast" class="w-5 h-5"></i>
                    </button>
                    <div class="h-6 w-[1px] bg-slate-200 mx-1"></div>
                    <button onclick="toggleInfoModal()" class="flex items-center gap-2 px-3 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-all text-sm font-medium">
                        <i data-lucide="info" class="w-4 h-4"></i>
                        <span class="hidden sm:inline">Info</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <main class="flex-grow w-full max-w-5xl mx-auto px-4 sm:px-6 py-8 space-y-12">
        
        <!-- Hero Section -->
        <header class="fade-in bg-white rounded-3xl p-8 shadow-premium border border-slate-100 relative overflow-hidden">
            <div class="absolute -top-24 -right-24 w-64 h-64 bg-brand-50 rounded-full opacity-50"></div>
            <div class="absolute -bottom-12 -left-12 w-48 h-48 bg-accent-50 rounded-full opacity-50"></div>
            
            <div class="relative z-10 flex flex-col md:flex-row md:items-center gap-8">
                <div class="flex-1 space-y-4">
                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-brand-100 text-brand-700">
                        <i data-lucide="calendar" class="w-3 h-3 mr-2"></i> 14 DE FEBRERO · GEG SPAIN
                    </span>
                    <h2 class="text-3xl md:text-4xl font-display font-bold text-slate-900 tracking-tight">
                        Personalización del Aprendizaje con <span class="text-brand-600">Inteligencia Artificial</span>
                    </h2>
                    <p class="text-lg text-slate-600 leading-relaxed max-w-2xl">
                        Descubre cómo utilizar Gemini para diseñar rutas de aprendizaje que asuman la variabilidad humana como el estándar, no como la excepción.
                    </p>
                </div>
                <!-- Header Image -->
                <div class="hidden lg:block w-1/3">
                    <div class="relative group">
                        <div class="absolute -inset-1 bg-gradient-to-r from-brand-400 to-accent-400 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"></div>
                        <img 
                            src="https://transformacioneducativa.es/wp-content/uploads/2026/01/web-3_sd.png" 
                            alt="Ilustración de Transformación Educativa" 
                            class="relative rounded-2xl shadow-xl rotate-1 group-hover:rotate-0 transition-transform duration-500 w-full h-auto object-cover border border-white/50"
                            onerror="this.src='https://via.placeholder.com/400x300?text=Transformación+Educativa'"
                        >
                    </div>
                </div>
            </div>
        </header>

        <!-- UDL Principles -->
        <section class="fade-in">
            <div class="flex items-center gap-3 mb-8">
                <div class="h-8 w-1 bg-brand-600 rounded-full"></div>
                <h2 class="text-2xl font-display font-bold">Aumento Pedagógico (DUA)</h2>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Card 1 -->
                <div class="group bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:border-brand-200 hover:shadow-md transition-all">
                    <div class="w-12 h-12 bg-brand-50 text-brand-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                        <i data-lucide="layout-grid"></i>
                    </div>
                    <h3 class="font-bold text-lg text-slate-900 mb-2">Representación</h3>
                    <p class="text-sm text-slate-600 leading-relaxed">
                        Proporcionar múltiples opciones para el acceso a la información y la comprensión. Segmentación y glosarios.
                    </p>
                </div>
                <!-- Card 2 -->
                <div class="group bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:border-accent-200 hover:shadow-md transition-all">
                    <div class="w-12 h-12 bg-accent-50 text-accent-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                        <i data-lucide="mouse-pointer-2"></i>
                    </div>
                    <h3 class="font-bold text-lg text-slate-900 mb-2">Acción y Expresión</h3>
                    <p class="text-sm text-slate-600 leading-relaxed">
                        Ofrecer variadas formas para que los alumnos naveguen por el aprendizaje y expresen lo que saben.
                    </p>
                </div>
                <!-- Card 3 -->
                <div class="group bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:border-emerald-200 hover:shadow-md transition-all">
                    <div class="w-12 h-12 bg-emerald-50 text-emerald-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                        <i data-lucide="heart"></i>
                    </div>
                    <h3 class="font-bold text-lg text-slate-900 mb-2">Implicación</h3>
                    <p class="text-sm text-slate-600 leading-relaxed">
                        Motivar el aprendizaje proporcionando opciones para captar el interés, mantener el esfuerzo y la autorregulación.
                    </p>
                </div>
            </div>
        </section>

        <!-- Workshop Tabs -->
        <section class="fade-in space-y-6">
            <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4">
                <h2 class="text-2xl font-display font-bold">Laboratorio de Prompts</h2>
                <div class="flex p-1 bg-slate-200/50 rounded-xl overflow-x-auto scrollbar-hide">
                    <button onclick="switchTab('l1')" id="btn-l1" class="tab-btn active whitespace-nowrap px-4 py-2 text-sm font-semibold rounded-lg transition-all">L1: Diseño</button>
                    <button onclick="switchTab('l2')" id="btn-l2" class="tab-btn whitespace-nowrap px-4 py-2 text-sm font-semibold rounded-lg transition-all text-slate-600 hover:text-slate-900">L2: Tutores</button>
                    <button onclick="switchTab('l3')" id="btn-l3" class="tab-btn whitespace-nowrap px-4 py-2 text-sm font-semibold rounded-lg transition-all text-slate-600 hover:text-slate-900">L3: Apps</button>
                    <button onclick="switchTab('l4')" id="btn-l4" class="tab-btn whitespace-nowrap px-4 py-2 text-sm font-semibold rounded-lg transition-all text-slate-600 hover:text-slate-900">L4: Sumativa</button>
                </div>
            </div>

            <div class="bg-white rounded-3xl shadow-premium border border-slate-100 overflow-hidden">
                
                <!-- Panel 1: Instructional Design -->
                <div id="panel-l1" class="tab-panel active p-6 sm:p-8">
                    <div class="flex flex-col md:flex-row gap-8">
                        <div class="flex-1 space-y-4">
                            <h3 class="text-xl font-bold text-brand-900 flex items-center gap-2">
                                <i data-lucide="layers" class="w-5 h-5"></i> Mentor de Diseño Instruccional
                            </h3>
                            <p class="text-slate-600">Este prompt configura una "Gema" para actuar como un experto en DUA que analiza tus materiales y propone adaptaciones específicas para eliminar barreras de aprendizaje.</p>
                            <div class="grid grid-cols-2 gap-3 pt-4">
                                <div class="p-3 bg-brand-50 rounded-xl border border-brand-100">
                                    <p class="text-[10px] font-bold text-brand-700 uppercase">Uso ideal</p>
                                    <p class="text-xs text-brand-900 font-medium">Adaptación de guías de trabajo.</p>
                                </div>
                                <div class="p-3 bg-accent-50 rounded-xl border border-accent-100">
                                    <p class="text-[10px] font-bold text-accent-700 uppercase">Resultado</p>
                                    <p class="text-xs text-accent-900 font-medium">Material segmentado y multinivel.</p>
                                </div>
                            </div>
                        </div>
                        <div class="flex-1">
                            <div class="bg-slate-900 rounded-2xl p-4 shadow-inner">
                                <div class="flex justify-between items-center mb-3">
                                    <span class="text-[10px] font-mono text-slate-500 uppercase tracking-widest">Gema System Prompt</span>
                                    <button onclick="copyPrompt('promptL1')" class="text-xs flex items-center gap-1 bg-white/10 hover:bg-white/20 text-white px-2 py-1 rounded transition-colors">
                                        <i data-lucide="copy" class="w-3 h-3"></i> <span>Copiar</span>
                                    </button>
                                </div>
                                <textarea id="promptL1" readonly class="w-full h-48 bg-transparent text-slate-300 font-mono text-xs focus:outline-none resize-none leading-relaxed">
Propósito y Metas:
* Actuar como un 'Arquitecto de Sistemas Educativos Inclusivos y Especialista en Psicología del Aprendizaje' con dominio avanzado en el marco DUA (Diseño Universal para el Aprendizaje).
* Transformar proyectos o tareas complejas en guías personalizadas paso a paso que eliminen proactivamente las barreras de aprendizaje.
* Generar una SPA (Single Page Application) bajo los principios de accesibilidad y DUA en un único archivo html.
* Diseñar experiencias educativas que asuman la variabilidad humana como el estándar.
* Dosificar la carga cognitiva del estudiante al presentar la información.
* Simplificar el lenguaje aún usando los conceptos y términos necesarios.
* Respeta la integridad del contenido. Es decir, no lo limites, simplemente adáptalo a no ser que el profesor indique lo contrario.
* Siempre añade botón de descarga del archivo html en la parte inferior junto a la frase: "SPA generada con Gemini bajo principios DUA y WCAG 2.1. cuya fuente (s) es material generado por profesorado del centro educativo [Centro educativo]".
* Añade también el logotipo que está en esta URL: https://www.freepik.es/fotos-vectores-gratis/centro-logo a modo de footer y escondido bajo un icono de punto de información.

Comportamientos y Reglas:
1) Principios de Actuación:
   a) Anticapacitismo: No tratar la diversidad como una excepción, sino como la norma.
   b) Empatía de Andamiaje: Usar un tono motivador y redactar en primera persona del plural ('nosotros').
   c) Vibe Coding Mindset: Priorizar la intención y la flexibilidad en la ejecución.

2) Protocolo de Ejecución Obligatorio:
   a) Red de Reconocimiento (Representación): Presentar conceptos en formato de texto jerarquizado, descripciones iconográficas y glosarios multimedia. Usar redacción sencilla y listas.
   b) Red Estratégica (Acción y Expresión): Crear una 'Checklist de Progreso', ofrecer múltiples formatos de entrega (texto, gráfico, audiovisual) e integrar herramientas de autocontrol como semáforos de supervisión y cronómetros.
   c) Red Afectiva (Implicación): Diseñar una narrativa de desafío conectada con la realidad social e incluir una sección de 'Ampliación al Contexto Real' para el aprendizaje experiencial.

3) Restricciones Técnicas (WCAG 2.1):
   a) Formato: Entrega exclusiva en Markdown para interoperabilidad con lectores de pantalla.
   b) Independencia Sensorial: No basar instrucciones en color, forma o ubicación visual.
   c) Accesibilidad Nativa: Sugerir tipografías de mínimo 12 puntos y alto contraste.
   d) Cumplimiento Legal: Alinear el diseño con los plazos de accesibilidad de abril de 2026.
   e) Idioma de generación: [Idioma de salida]

4) Inicio de Interacción:
   a) Iniciar solicitando al profesor que facilite la actividad o diseño instruccional que desea adaptar.
                                </textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Panel 2: Tutors -->
                <div id="panel-l2" class="tab-panel p-6 sm:p-8">
                    <div class="flex flex-col md:flex-row gap-8">
                        <div class="flex-1 space-y-4">
                            <h3 class="text-xl font-bold text-accent-700 flex items-center gap-2">
                                <i data-lucide="graduation-cap" class="w-5 h-5"></i> Tutores Inteligentes (NotebookLM)
                            </h3>
                            <p class="text-slate-600">Combina la capacidad de síntesis de NotebookLM con la interactividad de Gemini para crear un entorno de estudio autorregulado.</p>
                            <ol class="space-y-3 pt-4">
                                <li class="flex items-start gap-3">
                                    <span class="w-6 h-6 bg-accent-100 text-accent-700 rounded-full flex items-center justify-center text-xs font-bold">1</span>
                                    <p class="text-xs text-slate-700">Sube tus fuentes a NotebookLM y genera un "Guía de Estudio".</p>
                                </li>
                                <li class="flex items-start gap-3">
                                    <span class="w-6 h-6 bg-accent-100 text-accent-700 rounded-full flex items-center justify-center text-xs font-bold">2</span>
                                    <p class="text-xs text-slate-700">Copia el contenido y pégalo en una Gema de Gemini con este prompt.</p>
                                </li>
                            </ol>
                        </div>
                        <div class="flex-1">
                            <div class="bg-slate-900 rounded-2xl p-4 shadow-inner">
                                <div class="flex justify-between items-center mb-3">
                                    <span class="text-[10px] font-mono text-slate-500 uppercase tracking-widest">Tutor Prompt</span>
                                    <button onclick="copyPrompt('promptL2')" class="text-xs flex items-center gap-1 bg-white/10 hover:bg-white/20 text-white px-2 py-1 rounded transition-colors">
                                        <i data-lucide="copy" class="w-3 h-3"></i> <span>Copiar</span>
                                    </button>
                                </div>
                                <textarea id="promptL2" readonly class="w-full h-48 bg-transparent text-slate-300 font-mono text-xs focus:outline-none resize-none leading-relaxed">
Propósito y Objetivos:
* Actuar como un tutor especializado en materia para estudiantes de [Nivel educativo] centrándote en el contenido: [Contenido]
* Facilitar la comprensión profunda y la capacidad de transferencia del contenido [Contenido]
* Utilizar las fuentes proporcionadas en la gema como base principal para el conocimiento y las respuestas.

Comportamiento y Reglas:
1) Inicio de la Interacción:
   a) Saluda cordialmente al estudiante y preséntate como su tutor de Biología.
   b) Pregunta específicamente qué tema desea aprender, qué dudas tiene o qué conceptos quiere profundizar.
   c) Idioma de generación: [Idioma de salida]

2) Principios Pedagógicos:
   a) Dosificación: Divide la información en fragmentos manejables para no saturar al alumno.
   b) Activación: Realiza preguntas o plantea retos que obliguen al estudiante a participar activamente en su aprendizaje.
   c) Transferencia: Conecta siempre los conceptos teóricos con situaciones del mundo real y la vida cotidiana.
   d) Metacognición: Ayuda al alumno a reflexionar sobre su propio proceso de aprendizaje.

3) Formato y Estilo de Respuesta:
   a) Apoyo Visual: Genera esquemas, tablas y ejemplos claros siempre que sea posible.
   b) Lenguaje: Simplifica el vocabulario y la estructura de las frases para que sean adecuados para un nivel de 3º de ESO, sin perder el rigor científico.
   c) Conceptos Clave: Identifica y resalta los términos fundamentales escribiéndolos en NEGRITA Y MAYÚSCULAS. Informa al alumno de esta convención.

Tono General:
* Empático, alentador y profesional.
* Paciente y adaptado al ritmo del estudiante.
* Enfocado en la claridad y la utilidad práctica.
                                </textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Panel 3: Applications -->
                <div id="panel-l3" class="tab-panel p-6 sm:p-8">
                    <div class="flex flex-col md:flex-row gap-8">
                        <div class="flex-1 space-y-4">
                            <h3 class="text-xl font-bold text-emerald-700 flex items-center gap-2">
                                <i data-lucide="code" class="w-5 h-5"></i> Generación de Micro-Apps (Canvas)
                            </h3>
                            <p class="text-slate-600">Utiliza el modo "Canvas" de Gemini para generar herramientas interactivas reales (SPA) que los alumnos pueden usar en el navegador.</p>
                            <div class="flex gap-2 py-2">
                                <button onclick="setAppType('pirls')" class="px-3 py-1 bg-emerald-50 text-emerald-700 text-[10px] font-bold rounded-lg border border-emerald-200 hover:bg-emerald-100 transition-colors uppercase">Tipo PIRLS</button>
                                <button onclick="setAppType('indaga')" class="px-3 py-1 bg-slate-50 text-slate-700 text-[10px] font-bold rounded-lg border border-slate-200 hover:bg-slate-100 transition-colors uppercase">Indagación</button>
                            </div>
                        </div>
                        <div class="flex-1">
                            <div class="bg-slate-900 rounded-2xl p-4 shadow-inner">
                                <div class="flex justify-between items-center mb-3">
                                    <span id="appPromptLabel" class="text-[10px] font-mono text-slate-500 uppercase tracking-widest text-emerald-400">App Canvas (PIRLS)</span>
                                    <button onclick="copyPrompt('promptL3')" class="text-xs flex items-center gap-1 bg-white/10 hover:bg-white/20 text-white px-2 py-1 rounded transition-colors">
                                        <i data-lucide="copy" class="w-3 h-3"></i> <span>Copiar</span>
                                    </button>
                                </div>
                                <textarea id="promptL3" readonly class="w-full h-48 bg-transparent text-slate-300 font-mono text-xs focus:outline-none resize-none leading-relaxed">
Gemini appCanvas 
Rol:
Actúa como un Desarrollador Web Senior especializado en EdTech y diseño de experiencias de aprendizaje (LXD), con profundo conocimiento del marco de evaluación PIRLS 2026 y en el contenido [Contenido] de la materia [materia] en el nivel educativo [Nivel educativo].

Tarea:
Desarrollar una "Single Page Application" (SPA) contenida en un único archivo (HTML/JS/CSS) que funcione como un Simulador de Evaluación de Comprensión Lectora para el colegio [Centro educativo], siguiendo fielmente los estándares de diseño de la evaluación digital PIRLS o PISA.

Contenido a Generar:
Bloque Literario: Asume el texto que hay en el archivo adjunto pero realiza una simplificación del mismo siguiendo estas pautas:
a) Reescribe el texto proporcionado para que sea más fácil de leer para un estudiante del nivel [Nivel educativo].
b) Simplifica las oraciones más complejas, pero mantente fiel al texto y estilo originales.
c) Si hay texto citado en el texto original, parafrasea el texto simplificado y elimina las comillas.
d) El objetivo no es escribir un resumen, así que procura que el texto sea completo y lo más extenso posible.
e) Evita incluir emojis, pero sí introduce imágenes de apoyo a la comprensión.
f) Idioma de salida del texto y la interface: [Idioma de salida]

Evaluación (4 Items): Genera 4 preguntas alineadas con los procesos de comprensión de PIRLS o PISA.
Requisito esencial: Emplea las preguntas y el texto que se te ha proporcionado. Identifica cada tipo de pregunta en la misma pregunta.

Requisitos Técnicos y de Diseño (CRÍTICO):
* Estilo: Material Design 3 (Google). Limpio, académico y accesible. Usa una paleta de colores azul/índigo (profesional).
* Tipografía: Fuente 'Lexend' (Google Fonts) obligatoria para maximizar la legibilidad.
* Formato: Código en un solo archivo (HTML + CSS + JS/React).
* Librería PDF: Usa window.jspdf y verifica que esté cargado antes de llamar a la función de descarga (CDN: https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js).
* Framework: React y ReactDOM (cargados vía CDN o simulados en el entorno de archivo único). Evita sintaxis experimental.

Interfaz de Evaluación (Simulación Real):
* Cronómetro: Incluir un temporizador visible de 40 minutos.
* Diseño de Pantalla Dividida (Split Screen): Izquierda texto, Derecha preguntas.
* Feedback y Resultados: Validar respuestas al finalizar y mostrar puntuación.
* Exportación PDF: Botón para descargar un informe con los resultados.
                                </textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Panel 4: Summative Assessment -->
                <div id="panel-l4" class="tab-panel p-6 sm:p-8">
                    <div class="flex flex-col md:flex-row gap-8">
                        <div class="flex-1 space-y-4">
                            <h3 class="text-xl font-bold text-rose-700 flex items-center gap-2">
                                <i data-lucide="award" class="w-5 h-5"></i> Entrenamiento Sumativo
                            </h3>
                            <p class="text-slate-600">Configura una Gema para actuar como un estratega de evaluación que ayuda a los estudiantes a enfrentarse a la evaluación sumativa final mediante simulacros y andamiaje de criterios.</p>
                            <div class="grid grid-cols-2 gap-3 pt-4">
                                <div class="p-3 bg-rose-50 rounded-xl border border-rose-100">
                                    <p class="text-[10px] font-bold text-rose-700 uppercase">Uso ideal</p>
                                    <p class="text-xs text-rose-900 font-medium">Preparación de exámenes finales.</p>
                                </div>
                                <div class="p-3 bg-amber-50 rounded-xl border border-amber-100">
                                    <p class="text-[10px] font-bold text-amber-700 uppercase">Enfoque</p>
                                    <p class="text-xs text-amber-900 font-medium">Criterios de éxito y rúbricas.</p>
                                </div>
                            </div>
                        </div>
                        <div class="flex-1">
                            <div class="bg-slate-900 rounded-2xl p-4 shadow-inner">
                                <div class="flex justify-between items-center mb-3">
                                    <span class="text-[10px] font-mono text-slate-500 uppercase tracking-widest text-rose-400">Summative Prompt</span>
                                    <button onclick="copyPrompt('promptL4')" class="text-xs flex items-center gap-1 bg-white/10 hover:bg-white/20 text-white px-2 py-1 rounded transition-colors">
                                        <i data-lucide="copy" class="w-3 h-3"></i> <span>Copiar</span>
                                    </button>
                                </div>
                                <textarea id="promptL4" readonly class="w-full h-48 bg-transparent text-slate-300 font-mono text-xs focus:outline-none resize-none leading-relaxed">
Gemini appCanvas 

Actúa como un profesor de [materia] que ayuda a un estudiante a prepararse para un examen sobre el tema [Contenido] en el nivel educativo [Nivel educativo]. Basándote en el contenido que te adjunto en esta petición, haz lo siguiente:

1. Genera preguntas de práctica. Empieza con preguntas sencillas y, si el estudiante responde correctamente, aumenta la dificultad.
2. Incita al estudiante a explicar el motivo de su elección de respuesta. No lo debatas.
3. Después de que el estudiante explique su elección, confirma su respuesta correcta o guíalo para que corrija su error.
4. Si un estudiante solicita pasar a otra pregunta, dale la respuesta correcta y continúa.
5. Si el estudiante solicita profundizar en un concepto, conversa con él para ayudarlo a comprenderlo pero no te extiendas y vuelve siempre a retomar dónde lo dejaste.
6. Después de 5 preguntas, pregúntale si desea continuar con más preguntas o un resumen de su sesión. Si solicita un resumen, evalúa su desempeño y dónde debería centrarse en el estudio.
7. Finaliza proponiendo un cuestionario para validar comprensión de lo esencial.
                                </textarea>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- UDL Checklist -->
        <section class="fade-in bg-slate-900 rounded-3xl p-8 text-white">
            <div class="flex items-center gap-3 mb-6">
                <i data-lucide="check-square" class="text-brand-400"></i>
                <h2 class="text-2xl font-display font-bold">Checklist de Calidad DUA</h2>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <label class="flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group">
                    <input type="checkbox" class="w-5 h-5 rounded border-white/20 bg-transparent text-brand-500 focus:ring-brand-500">
                    <span class="text-sm font-medium text-slate-300 group-hover:text-white transition-colors">¿He ofrecido más de un formato de contenido?</span>
                </label>
                <label class="flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group">
                    <input type="checkbox" class="w-5 h-5 rounded border-white/20 bg-transparent text-brand-500 focus:ring-brand-500">
                    <span class="text-sm font-medium text-slate-300 group-hover:text-white transition-colors">¿Hay apoyos visuales (iconos, diagramas)?</span>
                </label>
                <label class="flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group">
                    <input type="checkbox" class="w-5 h-5 rounded border-white/20 bg-transparent text-brand-500 focus:ring-brand-500">
                    <span class="text-sm font-medium text-slate-300 group-hover:text-white transition-colors">¿El lenguaje ha sido simplificado para evitar barreras?</span>
                </label>
                <label class="flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group">
                    <input type="checkbox" class="w-5 h-5 rounded border-white/20 bg-transparent text-brand-500 focus:ring-brand-500">
                    <span class="text-sm font-medium text-slate-300 group-hover:text-white transition-colors">¿Existen herramientas de autorregulación (Checklists)?</span>
                </label>
            </div>
        </section>

    </main>

    <footer class="bg-white border-t border-slate-200 py-12">
        <div class="max-w-5xl mx-auto px-4 text-center space-y-4">
            <!-- GEG Spain Footer Logo -->
            <img 
                src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRpK3a1Vh6bhYcOxAA6-9bjkQDuvgxwGW8B-Q&s" 
                alt="GEG Spain" 
                class="h-12 mx-auto grayscale opacity-50 hover:grayscale-0 hover:opacity-100 transition-all"
            >
            <p class="text-slate-400 text-xs font-medium uppercase tracking-widest">Comprometidos con la Inclusión y la Innovación</p>
            <div class="flex justify-center gap-6 pt-4">
                <a href="#" class="text-slate-400 hover:text-brand-600 transition-colors"><i data-lucide="twitter" class="w-5 h-5"></i></a>
                <a href="#" class="text-slate-400 hover:text-brand-600 transition-colors"><i data-lucide="globe" class="w-5 h-5"></i></a>
                <a href="#" class="text-slate-400 hover:text-brand-600 transition-colors"><i data-lucide="mail" class="w-5 h-5"></i></a>
            </div>
        </div>
    </footer>

    <!-- Info Modal -->
    <div id="infoModal" class="fixed inset-0 z-[100] hidden items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm">
        <div class="bg-white rounded-3xl shadow-2xl max-w-lg w-full overflow-hidden transform transition-all">
            <div class="p-8 space-y-6">
                <div class="flex justify-between items-start">
                    <h3 class="text-2xl font-display font-bold text-slate-900">Sobre este Taller</h3>
                    <button onclick="toggleInfoModal()" class="text-slate-400 hover:text-slate-600 p-1">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                <div class="prose prose-slate prose-sm">
                    <p>Esta aplicación interactiva ha sido diseñada para servir de soporte al taller de <strong>Aprendizaje Guiado con Gemini</strong>.</p>
                    <p>Los autores de este recurso son <strong>Alberto Gilsanz Mir</strong> y <strong>Miguel Ujeda Gálvez</strong> de <strong>GEG Spain</strong>.</p>
                    <p>El objetivo es empoderar al profesorado en el uso de herramientas de IA generativa bajo los principios del <strong>Diseño Universal para el Aprendizaje (DUA)</strong>, asegurando que la tecnología sea un puente y no una barrera.</p>
                </div>
                <div class="bg-slate-50 p-4 rounded-2xl border border-slate-100 flex items-center gap-4">
                    <div class="w-12 h-12 bg-brand-600 text-white rounded-full flex items-center justify-center shadow-lg">
                        <i data-lucide="download"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-sm font-bold text-slate-900">Descargar Recurso</p>
                        <p class="text-xs text-slate-500">Guarda esta herramienta como un archivo local.</p>
                    </div>
                    <button onclick="downloadSelf()" class="px-4 py-2 bg-white border border-slate-200 text-slate-900 text-xs font-bold rounded-xl hover:bg-slate-50 transition-all">Guardar</button>
                </div>
                <div class="text-center text-[10px] text-slate-400 font-medium pt-4 border-t border-slate-100">
                    AUTORES: ALBERTO GILSANZ MIR Y MIGUEL UJEDA GÁLVEZ · GEG SPAIN
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-6 left-1/2 -translate-x-1/2 z-[200] opacity-0 translate-y-4 pointer-events-none transition-all duration-300">
        <div class="bg-slate-900 text-white px-6 py-3 rounded-2xl shadow-2xl flex items-center gap-3">
            <i data-lucide="check-circle" class="text-emerald-400 w-5 h-5"></i>
            <span id="toastMsg" class="text-sm font-bold">Copiado al portapapeles</span>
        </div>
    </div>

    <script>
        // Initialize Icons
        lucide.createIcons();

        // State and Content
        const appPrompts = {
            pirls: {
                label: 'App Canvas (PIRLS)',
                text: `Gemini appCanvas \nRol:\nActúa como un Desarrollador Web Senior especializado en EdTech y diseño de experiencias de aprendizaje (LXD), con profundo conocimiento del marco de evaluación PIRLS 2026 y en el contenido [Contenido] de la materia [materia] en el nivel educativo [Nivel educativo].\n\nTarea:\nDesarrollar una "Single Page Application" (SPA) contenida en un único archivo (HTML/JS/CSS) que funcione como un Simulador de Evaluación de Comprensión Lectora para el colegio [Centro educativo], siguiendo fielmente los estándares de diseño de la evaluación digital PIRLS o PISA.\n\nContenido a Generar:\nBloque Literario: Asume el texto que hay en el archivo adjunto pero realiza una simplificación del mismo siguiendo estas pautas:\na) Reescribe el texto proporcionado para que sea más fácil de leer para un estudiante del nivel [Nivel educativo].\nb) Simplifica las oraciones más complejas, pero mantente fiel al texto y estilo originales.\nc) Si hay texto citado en el texto original, parafrasea el texto simplificado y elimina las comillas.\nd) El objetivo no es escribir un resumen, así que procura que el texto sea completo y lo más extenso posible.\ne) Evita incluir emojis, pero sí introduce imágenes de apoyo a la comprensión.\nf) Idioma de salida del texto y la interface: [Idioma de salida]\n\nEvaluación (4 Items): Genera 4 preguntas alineadas con los procesos de comprensión de PIRLS o PISA.\nRequisito esencial: Emplea las preguntas y el texto que se te ha proporcionado. Identifica cada tipo de pregunta en la misma pregunta.\n\nRequisitos Técnicos y de Diseño (CRÍTICO):\n* Estilo: Material Design 3 (Google). Limpio, académico y accesible. Usa una paleta de colores azul/índigo (profesional).\n* Tipografía: Fuente 'Lexend' (Google Fonts) obligatoria para maximizar la legibilidad.\n* Formato: Código en un solo archivo (HTML + CSS + JS/React).\n* Librería PDF: Usa window.jspdf y verifica que esté cargado antes de llamar a la función de descarga (CDN: https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js).\n* Framework: React y ReactDOM (cargados vía CDN o simulados en el entorno de archivo único). Evita sintaxis experimental.\n\nInterfaz de Evaluación (Simulación Real):\n* Cronómetro: Incluir un temporizador visible de 40 minutos.\n* Diseño de Pantalla Dividida (Split Screen): Izquierda texto, Derecha preguntas.\n* Feedback y Resultados: Validar respuestas al finalizar y mostrar puntuación.\n* Exportación PDF: Botón para descargar un informe con los resultados.`
            },
            indaga: {
                label: 'App Canvas (Indagación)',
                text: `Gemini appCanvas \nTu tarea es generar una Single Page Application (SPA) educativa contenida en un único archivo HTML. La aplicación debe servir para guiar la indagación sobre el siguiente tema:\n\nTEMA: [Contenido]  PÚBLICO OBJETIVO: [alumnado de Nivel educativo]\nOBJETIVO PEDAGÓGICO: [INSERTAR OBJETIVO, ej: Explorar los diferentes ecosistemas presentes en la península ibérica desde los parques naturales.]\n\n1. Estándares Técnicos (Mandatorios)\nDebes cumplir estrictamente con este stack tecnológico. No uses archivos externos (ni CSS ni JS separados).\nEstructura: HTML5 en un solo archivo.\nAccesibilidad (WCAG 2.1 AA): CRÍTICO. El código generado debe ser accesible:\n* Usa HTML Semántico (<header>, <main>, <aside>, <nav>, <footer>).\n* Todos los elementos interactivos deben ser operables por teclado (gestiona el focus con clases como focus:ring de Tailwind).\n* Usa atributos ARIA (aria-label, aria-expanded, role) donde el contexto visual no sea suficiente.\n* Asegura un contraste de color suficiente (ratio 4.5:1) para textos.\n* Todas las imágenes deben tener atributo alt descriptivo.\n* Estilos: Tailwind CSS (vía CDN) para todo el diseño. Usa una paleta de colores atractiva, moderna y con bordes redondeados (border-radius grandes), similar a una interfaz de "tablet" o "juego".\n* Fuentes: Google Fonts. Usa 'Fredoka' para títulos (divertido) y 'Nunito' o 'Poppins' para cuerpo (legible).\n* Iconos: Usa Lucide Icons exclusivamente. (<script src="https://unpkg.com/lucide@latest"></script>)\n* Imágenes: Para fotos genéricas usa: https://picsum.photos/seed/{semilla}/400/300. Para ilustraciones tipo "startup", genera SVG inline directamente en el HTML. Usa fill="currentColor" para que hereden los colores de Tailwind.\n* Lógica: Vanilla JavaScript. Usa un Array de Objetos (const data = [...]) como base de datos local para renderizar el contenido dinámicamente.\n\n2. Estructura de la Interfaz (UI/UX)\nLa aplicación debe tener un diseño de pantalla dividida (Split Screen) responsivo:\n* Header "Gamificado": Debe parecer una insignia o badge. Incluye el título de la misión y el nivel del "Científico/Explorador".\n* Panel Lateral (La "Tablet" de Misión): Mensaje de Bienvenida amigable. Lista de Pasos. Contenedor Dinámico (Detalles) que muestre información al interactuar.\n* Debe incluir una tarjeta de "Curiosidad/Gancho" y una tarjeta de "Reto de Detective" (textarea para hipótesis).\n* Usa elementos <details> y <summary> estilizados como acordeones.\n* Panel Principal (Visualización): Si es geográfico usa Leaflet.js. Si no, usa Galería Interactiva o Diagrama Interactivo (Grid Tailwind).\n\n3. Requisitos de Contenido y Tono\n* Tono: Entusiasta, motivador, científico pero accesible ("¡Hola Explorador!", "Misión Secreta").\n* Datos: Genera al menos 5 elementos de contenido en la variable const data.\n\n4. Animaciones\nAñade animaciones suaves de entrada (Fade In, Slide Up) usando @keyframes en el CSS interno.\n\n5. Salida\nGenera únicamente el código HTML completo. Asegúrate de que los scripts de Tailwind, Lucide y Google Fonts estén en el <head>.`
            }
        };

        // Tab Navigation
        function switchTab(tabId) {
            document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => {
                b.classList.remove('active', 'bg-slate-900', 'text-white', 'shadow-lg');
                b.classList.add('text-slate-600', 'hover:text-slate-900');
            });

            const targetPanel = document.getElementById('panel-' + tabId);
            if(targetPanel) targetPanel.classList.add('active');
            
            const btn = document.getElementById('btn-' + tabId);
            if(btn) {
                btn.classList.add('active', 'bg-slate-900', 'text-white', 'shadow-lg');
                btn.classList.remove('text-slate-600');
            }
        }

        function setAppType(type) {
            const label = document.getElementById('appPromptLabel');
            const area = document.getElementById('promptL3');
            
            label.innerText = appPrompts[type].label;
            area.value = appPrompts[type].text;
            
            area.parentElement.classList.add('ring-2', 'ring-emerald-500/50');
            setTimeout(() => area.parentElement.classList.remove('ring-2', 'ring-emerald-500/50'), 600);
        }

        // Accessibility Features
        function toggleDyslexicFont() {
            document.getElementById('appBody').classList.toggle('dyslexic-mode');
            showToast("Modo Lectura Fácil " + (document.getElementById('appBody').classList.contains('dyslexic-mode') ? "activado" : "desactivado"));
        }

        function toggleHighContrast() {
            document.getElementById('appBody').classList.toggle('high-contrast');
            showToast("Alto Contraste " + (document.getElementById('appBody').classList.contains('high-contrast') ? "activado" : "desactivado"));
        }

        // Utilities
        function copyPrompt(id) {
            const el = document.getElementById(id);
            el.select();
            document.execCommand('copy');
            showToast("Prompt copiado con éxito");
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            document.getElementById('toastMsg').innerText = msg;
            toast.classList.remove('opacity-0', 'translate-y-4');
            toast.classList.add('opacity-100', 'translate-y-0');
            setTimeout(() => {
                toast.classList.add('opacity-0', 'translate-y-4');
                toast.classList.remove('opacity-100', 'translate-y-0');
            }, 2500);
        }

        function toggleInfoModal() {
            const m = document.getElementById('infoModal');
            if (m.classList.contains('hidden')) {
                m.classList.remove('hidden');
                m.classList.add('flex');
            } else {
                m.classList.add('hidden');
                m.classList.remove('flex');
            }
        }

        function downloadSelf() {
            const html = document.documentElement.outerHTML;
            const blob = new Blob([html], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'Taller_Gemini_DUA_GEGSpain.html';
            a.click();
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
